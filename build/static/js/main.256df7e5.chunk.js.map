{"version":3,"sources":["../../triangulator2/src/perlin.js","../../triangulator2/node_modules/.registry.npmjs.org/image-size/0.5.5/node_modules/image-size/lib/types sync /^/.*$","../../triangulator2/src/poissondisc.js","../../triangulator2/src/index.js","../../triangulator2/src/triangulator.js","App.jsx","index.js"],"names":["_classCallCheck","__webpack_require__","_createClass","fade","t","lerp","a","b","grad","hash","x","y","z","h","u","v","module","exports","PerlinNoise","rng","this","permutation","i","push","_i","randomIndex","Math","floor","temporaryValue","_i2","key","value","xi","yi","zi","X","Y","Z","w","A","AA","AB","B","BA","BB","map","./bmp","./bmp.js","./dds","./dds.js","./gif","./gif.js","./jpg","./jpg.js","./png","./png.js","./psd","./psd.js","./svg","./svg.js","./tiff","./tiff.js","./webp","./webp.js","webpackContext","req","id","webpackContextResolve","o","e","Error","code","keys","Object","resolve","width","height","radius","radius2","R","cellSize","SQRT1_2","gridWidth","ceil","gridHeight","grid","Array","queue","queueSize","sampleSize","far","j","i0","max","j0","i1","min","j1","dx","dy","sample","s","PI","r","sqrt","cos","sin","length","presets","default","__webpack_exports__","C_Users_Jack_W_dev_oss_triangulator2_app_node_modules_registry_npmjs_org_babel_runtime_7_4_3_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","seedrandom__WEBPACK_IMPORTED_MODULE_1__","seedrandom__WEBPACK_IMPORTED_MODULE_1___default","n","delaunator__WEBPACK_IMPORTED_MODULE_2__","object_hash__WEBPACK_IMPORTED_MODULE_3__","object_hash__WEBPACK_IMPORTED_MODULE_3___default","chroma_js__WEBPACK_IMPORTED_MODULE_4__","chroma_js__WEBPACK_IMPORTED_MODULE_4___default","svg_js__WEBPACK_IMPORTED_MODULE_5__","svg_js__WEBPACK_IMPORTED_MODULE_5___default","_poissondisc__WEBPACK_IMPORTED_MODULE_6__","_poissondisc__WEBPACK_IMPORTED_MODULE_6___default","_perlin__WEBPACK_IMPORTED_MODULE_7__","_perlin__WEBPACK_IMPORTED_MODULE_7___default","random","noiseGenerator","triangulator","pointCache","lastPointOptionsHash","GridMode","Square","Triangle","Poisson","Override","ColorFunction","Horizontal","Vertical","DiagonalFromLeft","DiagonalFromRight","RadialFromCenter","hypot","RadialFromBottom","FromEdges","edgeDist","Noise","sx","sy","noise","GradientFunction","Random","triangle","p2","vector","vectorAbs","abs","apply","gradientVector","gradientDirection","sign","generate","input","perfTest","arguments","undefined","c","console","time","options","isBrowser","svgInput","forceSVGSize","seed","gridMode","gridOverridde","cellRandomness","color","colorScaleInvert","colorPalette","colorRandomness","quantizeSteps","colorOverride","useGradient","gradient","gradientNegativeFactor","gradientPositiveFactor","strokeColor","strokeWidth","strokeOnly","backgroundColor","svg","concat","timeEnd","points","tris","pointOptionsHash","gridOverride","cellRandomnessLimit","_x","_y","nextPoint","delaunay","from","triangles","scale","mode","draw","size","normX","normY","colorIndex","round","_draw$gradient$from","_options$gradient","stop","at","hex","to","polygon","p","join","fill","stroke","App","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","svgNeedsUpdating","svgSizeCSS","svgWidth","svgHeight","svgString","imageData","imageWidth","imageHeight","Triangulator","allColorFunctions","toConsumableArray","entries","allGradientFunctions","inputHandler","_","debounce","handleOptionChange","bind","assertThisInitialized","HTMLCanvasElement","prototype","toBlob","defineProperty","callback","type","quality","dataURL","toDataURL","split","setTimeout","binStr","atob","len","arr","Uint8Array","charCodeAt","Blob","replace","target","updatedState","parseInt","step","parseFloat","log","setState","_this2","event","delta","_this3","newSize","chroma","colors","_this4","_this5","reader","FileReader","onload","sourceImage","Image","canvas","document","getElementById","ctx","getContext","drawImage","getImageData","data","src","result","readAsDataURL","files","element","innerHTML","objectSpread","windowAspect","clientWidth","clientHeight","stripStyles","canvg","blob","saveAs","Date","toISOString","_this6","react_default","createElement","Container","className","Row","Col","xs","lg","style","viewBox","ref","generateSVG","Form","href","FormGroup","Label","for","Input","bsSize","defaultValue","onChange","f","name","ButtonGroup","Button","onClick","handleToggle","active","handleChangeColorStops","lib","disableAlpha","onChangeComplete","handleColorChange","handleBackgroundColorChange","saveImage","saveSVG","Component","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.256df7e5.chunk.js","sourcesContent":["var _classCallCheck = require(\"C:\\\\Users\\\\Jack W\\\\dev\\\\oss\\\\triangulator2-app\\\\node_modules\\\\.registry.npmjs.org\\\\@babel\\\\runtime\\\\7.4.3\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:\\\\Users\\\\Jack W\\\\dev\\\\oss\\\\triangulator2-app\\\\node_modules\\\\.registry.npmjs.org\\\\@babel\\\\runtime\\\\7.4.3\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\n// 3D Perlin noise implementation\n// This code is in the public domain\nfunction fade(t) {\n  return t * t * t * (t * (t * 6 - 15) + 10);\n}\n\nfunction lerp(t, a, b) {\n  return a + t * (b - a);\n}\n\nfunction grad(hash, x, y, z) {\n  var h = hash & 15;\n  var u = h < 8 ? x : y;\n  var v = h < 4 ? y : h === 12 || h === 14 ? x : z;\n  return ((h & 1) === 0 ? u : -u) + ((h & 2) === 0 ? v : -v);\n}\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  \"use strict\";\n\n  function PerlinNoise(rng) {\n    _classCallCheck(this, PerlinNoise);\n\n    this.permutation = [];\n\n    for (var i = 0; i < 256; i++) {\n      this.permutation.push(i);\n    }\n\n    for (var _i = 256; _i > 0; _i--) {\n      var randomIndex = Math.floor(rng() * _i);\n      var temporaryValue = this.permutation[_i - 1];\n      this.permutation[_i - 1] = this.permutation[randomIndex];\n      this.permutation[randomIndex] = temporaryValue;\n    }\n\n    for (var _i2 = 0; _i2 < 256; _i2++) {\n      this.permutation.push(this.permutation[_i2]);\n    }\n  }\n\n  _createClass(PerlinNoise, [{\n    key: \"noise\",\n    value: function noise(xi, yi, zi) {\n      var X = Math.floor(xi) & 255;\n      var Y = Math.floor(yi) & 255;\n      var Z = Math.floor(zi) & 255;\n      var x = xi - Math.floor(xi);\n      var y = yi - Math.floor(yi);\n      var z = zi - Math.floor(zi);\n      var u = fade(x);\n      var v = fade(y);\n      var w = fade(z);\n      var A = this.permutation[X] + Y;\n      var AA = this.permutation[A] + Z;\n      var AB = this.permutation[A + 1] + Z;\n      var B = this.permutation[X + 1] + Y;\n      var BA = this.permutation[B] + Z;\n      var BB = this.permutation[B + 1] + Z;\n      return lerp(w, lerp(v, lerp(u, grad(this.permutation[AA], x, y, z), grad(this.permutation[BA], x - 1, y, z)), lerp(u, grad(this.permutation[AB], x, y - 1, z), grad(this.permutation[BB], x - 1, y - 1, z))), lerp(v, lerp(u, grad(this.permutation[AA + 1], x, y, z - 1), grad(this.permutation[BA + 1], x - 1, y, z - 1)), lerp(u, grad(this.permutation[AB + 1], x, y - 1, z - 1), grad(this.permutation[BB + 1], x - 1, y - 1, z - 1)))) + 0.5;\n    }\n  }]);\n\n  return PerlinNoise;\n}();","var map = {\n\t\"./bmp\": 225,\n\t\"./bmp.js\": 225,\n\t\"./dds\": 226,\n\t\"./dds.js\": 226,\n\t\"./gif\": 227,\n\t\"./gif.js\": 227,\n\t\"./jpg\": 228,\n\t\"./jpg.js\": 228,\n\t\"./png\": 229,\n\t\"./png.js\": 229,\n\t\"./psd\": 230,\n\t\"./psd.js\": 230,\n\t\"./svg\": 231,\n\t\"./svg.js\": 231,\n\t\"./tiff\": 232,\n\t\"./tiff.js\": 232,\n\t\"./webp\": 233,\n\t\"./webp.js\": 233\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 224;","// Iterative Poisson disc sampler\n// Based on this implementation: https://www.jasondavies.com/poisson-disc/\n// This code is in the public domain\nmodule.exports = function IterativePoissonDiscSampler(width, height, radius, rng) {\n  var k = 30; // Maximum number of samples before rejection\n\n  var radius2 = radius * radius;\n  var R = 3 * radius2;\n  var cellSize = radius * Math.SQRT1_2;\n  var gridWidth = Math.ceil(width / cellSize);\n  var gridHeight = Math.ceil(height / cellSize);\n  var grid = new Array(gridWidth * gridHeight);\n  var queue = [];\n  var queueSize = 0;\n  var sampleSize = 0;\n\n  function far(x, y) {\n    var i = Math.floor(x / cellSize);\n    var j = Math.floor(y / cellSize);\n    var i0 = Math.max(i - 2, 0);\n    var j0 = Math.max(j - 2, 0);\n    var i1 = Math.min(i + 3, gridWidth);\n    var j1 = Math.min(j + 3, gridHeight);\n\n    for (j = j0; j < j1; ++j) {\n      var o = j * gridWidth;\n\n      for (i = i0; i < i1; ++i) {\n        if (grid[o + i]) {\n          var dx = grid[o + i][0] - x;\n          var dy = grid[o + i][1] - y;\n          if (dx * dx + dy * dy < radius2) return false;\n        }\n      }\n    }\n\n    return true;\n  }\n\n  function sample(x, y) {\n    var s = [x, y];\n    queue.push(s);\n    grid[gridWidth * Math.floor(y / cellSize) + Math.floor(x / cellSize)] = s;\n    sampleSize++;\n    queueSize++;\n    return s;\n  }\n\n  return function iterate() {\n    // Pick a random point for the first sample\n    if (!sampleSize) return sample(rng() * width, rng() * height); // Pick a random existing sample and remove it from the queue.\n\n    while (queueSize) {\n      var i = Math.floor(rng() * queueSize); // Make a new candidate between [radius, 2 * radius] from the existing sample.\n\n      for (var j = 0; j < k; ++j) {\n        var a = 2 * Math.PI * rng();\n        var r = Math.sqrt(rng() * R + radius2);\n        var x = queue[i][0] + r * Math.cos(a);\n        var y = queue[i][1] + r * Math.sin(a); // Reject candidates that are outside the allowed extent,\n        // or closer than 2 * radius to any existing sample.\n\n        if (x >= 0 && x < width && y >= 0 && y < height && far(x, y)) return sample(x, y);\n      }\n\n      queue[i] = queue[--queueSize];\n      queue.length = queueSize;\n    }\n\n    return false;\n  };\n};","require('@babel/register')({\n  presets: ['@babel/preset-env']\n});\n\nmodule.exports = require('./triangulator.js').default;","import _toConsumableArray from \"C:\\\\Users\\\\Jack W\\\\dev\\\\oss\\\\triangulator2-app\\\\node_modules\\\\.registry.npmjs.org\\\\@babel\\\\runtime\\\\7.4.3\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\n// triangulator2 - SVG triangle art generator\n// Copyright 2019 jackw01. Released under the MIT License (see LICENSE for details).\nimport seedrandom from 'seedrandom';\nimport Delaunator from 'delaunator';\nimport hash from 'object-hash';\nimport chroma from 'chroma-js';\nimport svgjs from 'svg.js';\nimport IterativePoissonDiscSampler from './poissondisc';\nimport PerlinNoise from './perlin'; // Utility stuff\n// Distance to closest edge of image, for x and y values normalized to (0, 1)\n\nfunction edgeDist(x, y) {\n  return Math.min(Math.min(x, 1 - x), Math.min(y, 1 - y)) * 2;\n}\n\nvar rng = Math.random;\nvar noiseGenerator = new PerlinNoise(rng); // triangulator2\n\nvar triangulator = {\n  pointCache: [],\n  lastPointOptionsHash: '',\n  GridMode: {\n    Square: 1,\n    Triangle: 2,\n    Poisson: 3,\n    Override: 4\n  },\n  // Must return a scalar from 0 to 1\n  ColorFunction: {\n    Horizontal: function Horizontal(x, y) {\n      return x;\n    },\n    Vertical: function Vertical(x, y) {\n      return y;\n    },\n    DiagonalFromLeft: function DiagonalFromLeft(x, y) {\n      return (x + y) / 2;\n    },\n    DiagonalFromRight: function DiagonalFromRight(x, y) {\n      return (1 - x + y) / 2;\n    },\n    RadialFromCenter: function RadialFromCenter(x, y) {\n      return Math.hypot(x - 0.5, y - 0.5) * Math.sqrt(2) * 1.1;\n    },\n    RadialFromBottom: function RadialFromBottom(x, y) {\n      return Math.hypot(x - 0.5, y - 1.5) - 0.5;\n    },\n    FromEdges: function FromEdges(x, y) {\n      return edgeDist(x, y) * 0.3 + (1 - Math.hypot(x - 0.5, y - 0.5) * Math.sqrt(2)) * 0.7;\n    },\n    Noise: function Noise(sx, sy) {\n      return function (x, y) {\n        return noiseGenerator.noise(x * sx, y * sy, 0);\n      };\n    }\n  },\n  // Must return a vector with x and y from 0 to 1 as an array and a direction value (-1 or 1)\n  GradientFunction: {\n    Random: function Random(triangle, x, y) {\n      var i = Math.floor(rng() * 3);\n      var p2 = triangle[(i + 1 + Math.floor(rng() * 2)) % 3];\n      var vector = [p2[0] - triangle[i][0], p2[1] - triangle[i][1]];\n      var vectorAbs = [Math.abs(vector[0]), Math.abs(vector[1])];\n      var max = Math.max.apply(Math, vectorAbs);\n      return {\n        gradientVector: [vectorAbs[0] / max, vectorAbs[1] / max],\n        gradientDirection: Math.sign(vector[0] * vector[1])\n      };\n    }\n  },\n  generate: function generate(input) {\n    var perfTest = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var c = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : console;\n    if (perfTest) c.time('total');\n    if (perfTest) c.time('setup');\n    var options = input || {\n      isBrowser: false,\n      svgInput: false,\n      forceSVGSize: true,\n      seed: Math.random(),\n      width: 1920,\n      height: 1080,\n      gridMode: this.GridMode.Poisson,\n      gridOverridde: false,\n      cellSize: 100,\n      cellRandomness: 0.3,\n      color: this.ColorFunction.DiagonalFromLeft,\n      colorScaleInvert: false,\n      colorPalette: ['#efee69', '#21313e'],\n      colorRandomness: 0.0,\n      quantizeSteps: 0,\n      colorOverride: false,\n      useGradient: false,\n      gradient: this.GradientFunction.Random,\n      gradientNegativeFactor: 0.03,\n      gradientPositiveFactor: 0.03,\n      strokeColor: false,\n      strokeWidth: false,\n      strokeOnly: false,\n      backgroundColor: '#000000'\n    }; // Non-global require is a bad practice but necessary here\n\n    var svg = options.isBrowser ? svgjs : svgjs(require('svgdom'));\n    var gridOverdraw = 100; // Set up RNG\n\n    rng = seedrandom(\"\".concat(options.seed));\n    noiseGenerator = new PerlinNoise(rng);\n    if (perfTest) c.timeEnd('setup');\n    if (perfTest) c.time('points'); // Generate points\n\n    var points = [];\n    var tris = [];\n    var pointOptionsHash = hash([options.seed, options.width, options.height, options.gridMode, options.gridOverride, options.cellSize, options.cellRandomness]);\n\n    if (pointOptionsHash !== this.lastPointOptionsHash) {\n      this.lastPointOptionsHash = pointOptionsHash;\n      var cellRandomnessLimit = options.cellRandomness * options.cellSize;\n\n      if (options.gridMode === triangulator.GridMode.Square) {\n        for (var y = -gridOverdraw; y < options.height + gridOverdraw + options.cellSize; y += options.cellSize) {\n          for (var x = -gridOverdraw; x < options.width + gridOverdraw + options.cellSize; x += options.cellSize) {\n            points.push([x + Math.floor(rng() * (2 * cellRandomnessLimit + 1)) - cellRandomnessLimit, y + Math.floor(rng() * (2 * cellRandomnessLimit + 1)) - cellRandomnessLimit]);\n          }\n        }\n      } else if (options.gridMode === triangulator.GridMode.Triangle) {\n        var r = 0;\n\n        for (var _x = -gridOverdraw; _x < options.width + gridOverdraw + options.cellSize; _x += options.cellSize) {\n          for (var _y = -gridOverdraw + options.cellSize / Math.sqrt(3) * (r % 2); _y < options.height + gridOverdraw + options.cellSize; _y += options.cellSize) {\n            points.push([_x + Math.floor(rng() * (2 * cellRandomnessLimit + 1)) - cellRandomnessLimit, _y + Math.floor(rng() * (2 * cellRandomnessLimit + 1)) - cellRandomnessLimit]);\n          }\n\n          r++;\n        }\n      } else if (options.gridMode === triangulator.GridMode.Poisson) {\n        var sample = IterativePoissonDiscSampler(1.5 * options.width, 1.5 * options.height, options.cellSize, rng);\n        var nextPoint = sample();\n\n        while (nextPoint) {\n          points.push([nextPoint[0] - 0.25 * options.width, nextPoint[1] - 0.25 * options.height]);\n          nextPoint = sample();\n        }\n      } else if (options.gridMode === triangulator.GridMode.Override) {\n        points.push.apply(points, _toConsumableArray(options.gridOverride));\n      } // Triangulate\n\n\n      var delaunay = Delaunator.from(points);\n\n      for (var i = 0; i < delaunay.triangles.length; i += 3) {\n        tris.push([points[delaunay.triangles[i]], points[delaunay.triangles[i + 1]], points[delaunay.triangles[i + 2]]]);\n      }\n\n      this.pointCache = tris;\n    } else {\n      tris = this.pointCache;\n    }\n\n    if (perfTest) c.timeEnd('points'); // Convert input colors to chroma.js scale\n\n    var scale = chroma.scale(options.colorPalette).mode('hcl'); // Create SVG context and draw\n\n    var draw = svg(options.svgInput);\n    if (options.forceSVGSize) draw.size(options.width, options.height); //draw.rect(options.width, options.height).fill(options.backgroundColor);\n    // Reset rng after drawing points\n\n    rng = seedrandom(\"\".concat(options.seed));\n    if (perfTest) c.time('draw');\n\n    for (var _i = 0; _i < tris.length; _i++) {\n      // Find where the triangle's centroid lies on the gradient\n      var normX = (tris[_i][0][0] + tris[_i][1][0] + tris[_i][2][0]) / 3 / options.width;\n      var normY = (tris[_i][0][1] + tris[_i][1][1] + tris[_i][2][1]) / 3 / options.height; // Get color/gradient for triangle\n\n      var color = void 0;\n\n      if (!options.colorOverride) {\n        (function () {\n          // Determine where the color lies on the scale - quantize if necessary\n          var colorIndex = options.color(normX, normY) + (rng() - 0.5) * options.colorRandomness;\n\n          if (options.quantizeSteps) {\n            colorIndex = Math.round(colorIndex * options.quantizeSteps) / (options.quantizeSteps - 1);\n          }\n\n          if (options.colorScaleInvert) colorIndex = 1 - colorIndex;\n\n          if (!options.useGradient) {\n            // Use solid color\n            color = scale(colorIndex).hex();\n          } else {\n            var _draw$gradient$from;\n\n            // Generate gradient vector and direction\n            var _options$gradient = options.gradient(tris[_i], normX, normY),\n                gradientVector = _options$gradient.gradientVector,\n                gradientDirection = _options$gradient.gradientDirection;\n\n            color = (_draw$gradient$from = draw.gradient('linear', function (stop) {\n              stop.at(0, scale(colorIndex - options.gradientNegativeFactor * gradientDirection).hex());\n              stop.at(1, scale(colorIndex + options.gradientPositiveFactor * gradientDirection).hex());\n            }).from(0.0, 0.0)).to.apply(_draw$gradient$from, _toConsumableArray(gradientVector));\n          }\n        })();\n      } else {\n        color = options.colorOverride(normX, normY);\n      }\n\n      draw.polygon(tris[_i].map(function (p) {\n        return p.join(',');\n      }).join(' ')).fill(options.strokeOnly ? options.backgroundColor : color).stroke({\n        color: options.strokeColor || color,\n        width: options.strokeWidth || 1\n      });\n    }\n\n    if (perfTest) c.timeEnd('draw');\n    if (perfTest) c.timeEnd('total');\n    return draw.svg();\n  }\n};\nexport default triangulator;","// triangulator2-app\n// Copyright 2019 jackw01. Released under the MIT License (see LICENSE for details).\n\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport { Container, Row, Col, Form, FormGroup, Label, Input, ButtonGroup, Button } from 'reactstrap';\nimport { ChromePicker } from 'react-color';\nimport chroma from 'chroma-js';\nimport canvg from 'canvg';\nimport saveAs from 'file-saver';\nimport Triangulator from 'triangulator2';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      svgNeedsUpdating: true,\n      svgSizeCSS: { width: '', height: '' },\n      svgWidth: 3840,\n      svgHeight: 2400,\n      svgString: '',\n      imageData: [],\n      imageWidth: 0,\n      imageHeight: 0,\n      options: {\n        isBrowser: true,\n        seed: 4,\n        width: 3840,\n        height: 2400,\n        gridMode: Triangulator.GridMode.Poisson,\n        gridOverride: false,\n        cellSize: 150,\n        cellRandomness: 0.2,\n        colorOverride: false,\n        color: Triangulator.ColorFunction.RadialFromBottom,\n        colorScaleInvert: false,\n        colorPalette: ['#e7a71d', '#dc433e', '#9e084b', '#41062f'],\n        colorRandomness: 0.15,\n        quantizeSteps: 0,\n        useGradient: true,\n        gradient: Triangulator.GradientFunction.Random,\n        gradientNegativeFactor: 0.03,\n        gradientPositiveFactor: 0.03,\n        strokeColor: false,\n        strokeWidth: 1,\n        strokeOnly: false,\n        backgroundColor: '#000000',\n      },\n    };\n\n    this.allColorFunctions = [...Object.entries(Triangulator.ColorFunction).map(i => i[1])];\n    this.allGradientFunctions = [...Object.entries(Triangulator.GradientFunction).map(i => i[1])];\n\n    /*\n    this.imageColorOverride = (x, y) => {\n      if (this.state.imageData.length > 0) {\n        const x0 = x *\n        return `rgb(${}, ${}, ${})`;\n      } else {\n        return '#000000';\n      }\n    };*/\n\n    // Debounce input changes\n    this.inputHandler = _.debounce(this.handleOptionChange, 150).bind(this);\n\n    // Polyfill canvas.toBlob() used for saving images\n    // Not natively implemented on iOS\n    if (!HTMLCanvasElement.prototype.toBlob) {\n      Object.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {\n        value: (callback, type, quality) => {\n          const dataURL = this.toDataURL(type, quality).split(',')[1];\n          setTimeout(() => {\n            const binStr = atob(dataURL);\n            const len = binStr.length;\n            const arr = new Uint8Array(len);\n            for (let i = 0; i < len; i++) {\n              arr[i] = binStr.charCodeAt(i);\n            }\n            callback(new Blob([arr], { type: type || 'image/png' }));\n          });\n        },\n      });\n    }\n  }\n\n  // Remove css styles from svg string before saving\n  stripStyles(svgString) {\n    return svgString.replace(/style=\\\\?\".*?\\\\?\"/g, '');\n  }\n\n  // Handle input changes from non-text inputs\n  handleOptionChange(target) {\n    const updatedState = { svgNeedsUpdating: true, options: this.state.options };\n\n    if (target.id === 'color') {\n      updatedState.options[target.id] = this.allColorFunctions[parseInt(target.value, 10)];\n    } else if (target.id === 'gradient') {\n      updatedState.options[target.id] = this.allGradientFunctions[parseInt(target.value, 10)];\n    } else if (target.step === 1) updatedState.options[target.id] = parseInt(target.value, 10);\n    else updatedState.options[target.id] = parseFloat(target.value);\n\n    // Enforce safe width\n    if (target.id === 'width' || target.id === 'height') {\n      console.log('yes')\n      updatedState.options[target.id] = Math.max(updatedState.options[target.id], 256);\n    }\n\n    // Enforce stroke\n    if (!updatedState.options.strokeOnly) updatedState.options.strokeWidth = 1;\n\n    this.setState(updatedState);\n  }\n\n  // Curried handler for toggle button inputs\n  handleToggle(value) {\n    return (event) => {\n      console.log(event.target);\n      const updatedState = { svgNeedsUpdating: true, options: this.state.options };\n      updatedState.options[event.target.id] = value;\n      this.setState(updatedState);\n    };\n  }\n\n  // Curried handler for adding and removing color stops\n  handleChangeColorStops(delta) {\n    return () => {\n      const newSize = this.state.options.colorPalette.length + delta;\n      if (newSize > 0 && newSize <= 20) {\n        const updatedState = { svgNeedsUpdating: true, options: this.state.options };\n        updatedState.options.colorPalette = chroma.scale(this.state.options.colorPalette)\n          .mode('lch').colors(newSize);\n        this.setState(updatedState);\n      }\n    };\n  }\n\n  // Curried handler for color inputs\n  handleColorChange(i) {\n    return (color) => {\n      console.log(color, i);\n      const updatedState = { svgNeedsUpdating: true, options: this.state.options };\n      updatedState.options.colorPalette[i] = color.hex;\n      this.setState(updatedState);\n    };\n  }\n\n  // Handler for BG color input\n  handleBackgroundColorChange(color) {\n    const updatedState = { svgNeedsUpdating: true, options: this.state.options };\n    updatedState.options.backgroundColor = color.hex;\n    this.setState(updatedState);\n  }\n\n  // Handler for image file upload\n  handleFile(target) {\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      const sourceImage = new Image();\n      sourceImage.onload = () => {\n        // Draw image on canvas and extract data\n        const canvas = document.getElementById('imageProcessingCanvas');\n        canvas.width = sourceImage.width;\n        canvas.height = sourceImage.height;\n        const ctx = canvas.getContext('2d');\n        ctx.drawImage(sourceImage, 0, 0, canvas.width, canvas.height);\n        this.setState({\n          imageData: ctx.getImageData(0, 0, ctx.canvas.width, ctx.canvas.height).data,\n          imageWidth: sourceImage.width,\n          imageHeight: sourceImage.height,\n        });\n      };\n      sourceImage.src = event.target.result;\n    };\n    reader.readAsDataURL(target.files[0]);\n  }\n\n  // Render SVG\n  async generateSVG(element) {\n    const { svgNeedsUpdating, options } = this.state;\n    // TODO: sometimes element is null, iont know wtf is goin on here\n    if (svgNeedsUpdating && element) {\n      // If update flag is set, unset it before anything else\n      console.time('1');\n      await this.setState({ svgNeedsUpdating: false });\n      await this.setState({ svgWidth: options.width, svgHeight: options.height });\n\n      element.innerHTML = '';\n      const svgString = Triangulator.generate({\n        svgInput: element,\n        forceSVGSize: false,\n        ...options,\n      });\n\n      // Determine correct css sizing based on image and browser aspect ratios\n      const windowAspect = document.getElementById('image-container').clientWidth\n        / document.getElementById('root').clientHeight;\n      const svgSizeCSS = { width: '', height: '' };\n      if ((options.width / options.height) > windowAspect) svgSizeCSS.width = '100%';\n      else svgSizeCSS.height = '100vh';\n\n      await this.setState({ svgSizeCSS, svgString });\n      console.timeEnd('1');\n    }\n  }\n\n  // Render as image and download\n  saveImage() {\n    console.log(this.stripStyles(this.state.svgString));\n    canvg('canvas', this.stripStyles(this.state.svgString));\n    document.getElementById('canvas').toBlob((blob) => {\n      saveAs(blob, `tri2-${new Date().toISOString()}.png`);\n    });\n  }\n\n  // Download SVG data\n  saveSVG() {\n    const blob = new Blob([this.stripStyles(this.state.svgString)]);\n    saveAs(blob, `tri2-${new Date().toISOString()}.svg`);\n  }\n\n  render() {\n    return (\n      <Container className='main h-100'>\n        <Row className='h-100'>\n          <Col xs='8' lg='9' className='image-container' id='image-container'>\n            <svg\n              id='image'\n              style={this.state.svgSizeCSS}\n              viewBox={`0 0 ${this.state.svgWidth} ${this.state.svgHeight}`}\n              ref={this.generateSVG.bind(this)}\n            />\n          </Col>\n          <Col xs='4' lg='3' className='controls-container'>\n            <Form className='controls-form'>\n              <h1 className='header-light header-stylized-text'>triangulator2</h1>\n              <small>\n                © 2019 <a href='https://jackw01.github.io'>jackw01</a>. <a href='https://github.com/jackw01/triangulator2-app'>View on Github</a>\n              </small>\n              <hr />\n              <FormGroup className='spacer-top'>\n                <Label className='input-group-label' for='seed'>Seed:</Label>\n                <Input\n                  id='seed'\n                  className='w-100'\n                  bsSize='sm'\n                  type='number'\n                  step='1'\n                  defaultValue={this.state.options.seed}\n                  onChange={e => this.inputHandler(e.target)}\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label className='input-group-label' for='resolution'>Resolution:</Label>\n                <Input\n                  id='width'\n                  bsSize='sm'\n                  type='number'\n                  step='1'\n                  min='0'\n                  max='8192'\n                  defaultValue={this.state.options.width}\n                  onChange={e => this.inputHandler(e.target)}\n                />\n                &nbsp;x&nbsp;\n                <Input\n                  id='height'\n                  bsSize='sm'\n                  type='number'\n                  step='1'\n                  min='0'\n                  max='8192'\n                  defaultValue={this.state.options.height}\n                  onChange={e => this.inputHandler(e.target)}\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label className='input-group-label' for='gridMode'>Grid Mode:</Label>\n                <Input\n                  id='gridMode'\n                  bsSize='sm'\n                  type='select'\n                  defaultValue={this.state.options.gridMode}\n                  onChange={e => this.handleOptionChange(e.target)}\n                >\n                  <option value='1'>Square</option>\n                  <option value='2'>Triangle</option>\n                  <option value='3'>Poisson</option>\n                  <option value='4'>Override</option>\n                </Input>\n              </FormGroup>\n              <FormGroup>\n                <Label className='input-group-label' for='cellSize'>Cell Size:</Label>\n                <input\n                  id='cellSize'\n                  type='range'\n                  step='1'\n                  min='80'\n                  max='512'\n                  defaultValue={this.state.options.cellSize}\n                  onChange={e => this.inputHandler(e.target)}\n                />\n              </FormGroup>\n              <FormGroup className={this.state.options.gridMode === 3 ? 'hidden' : ''}>\n                <Label className='input-group-label' for='cellRandomness'>Cell Randomness:</Label>\n                <input\n                  id='cellRandomness'\n                  type='range'\n                  step='0.001'\n                  min='0'\n                  max='1'\n                  defaultValue={this.state.options.cellRandomness}\n                  onChange={e => this.inputHandler(e.target)}\n                />\n              </FormGroup>\n              <hr />\n              <FormGroup>\n                <Label className='input-group-label' for='color'>Color Mode:</Label>\n                <Input\n                  id='color'\n                  bsSize='sm'\n                  type='select'\n                  defaultValue={5}\n                  onChange={e => this.handleOptionChange(e.target)}\n                >\n                  {this.allColorFunctions.map((f, i) => (\n                    <option value={i}>{f.name}</option>\n                  ))}\n                </Input>\n                <ButtonGroup size='sm' className='spacer-top'>\n                  <Button\n                    id='colorScaleInvert'\n                    color='secondary'\n                    onClick={this.handleToggle(false).bind(this)}\n                    active={!this.state.options.colorScaleInvert}\n                  >\n                    Default\n                  </Button>\n                  <Button\n                    id='colorScaleInvert'\n                    color='secondary'\n                    onClick={this.handleToggle(true).bind(this)}\n                    active={this.state.options.colorScaleInvert}\n                  >\n                    Invert\n                  </Button>\n                </ButtonGroup>\n              </FormGroup>\n              <FormGroup>\n                <Label className='input-group-label' for='colorRandomness'>Color Randomness:</Label>\n                <input\n                  id='colorRandomness'\n                  type='range'\n                  step='0.001'\n                  min='0'\n                  max='1'\n                  defaultValue={this.state.options.colorRandomness}\n                  onChange={e => this.inputHandler(e.target)}\n                />\n              </FormGroup>\n              <FormGroup className='color-picker-container'>\n                <Label className='input-group-label' for='colorPalette'>Color Palette:</Label>\n                <Button\n                  id='colorPaletteDecrease'\n                  size='sm'\n                  color='secondary'\n                  onClick={this.handleChangeColorStops(-1).bind(this)}\n                >\n                  Remove Color\n                </Button>\n                &nbsp;\n                <Button\n                  id='colorPaletteIncrease'\n                  size='sm'\n                  color='secondary'\n                  onClick={this.handleChangeColorStops(1).bind(this)}\n                >\n                  Add Color\n                </Button>\n                {this.state.options.colorPalette.map((hex, i) => (\n                  <ChromePicker\n                    color={hex}\n                    disableAlpha\n                    onChangeComplete={this.handleColorChange(i).bind(this)}\n                  />\n                ))}\n              </FormGroup>\n              <FormGroup>\n                <Label className='input-group-label' for='quantizeSteps'>Color Quantization Levels:</Label>\n                <input\n                  id='quantizeSteps'\n                  type='range'\n                  step='1'\n                  min='0'\n                  max='10'\n                  defaultValue={this.state.options.quantizeSteps}\n                  onChange={e => this.inputHandler(e.target)}\n                />\n              </FormGroup>\n              <hr />\n              <FormGroup>\n                <Label className='input-group-label' for='useGradient'>Generate Gradients:</Label>\n                <ButtonGroup size='sm'>\n                  <Button\n                    id='useGradient'\n                    color='secondary'\n                    onClick={this.handleToggle(true).bind(this)}\n                    active={this.state.options.useGradient}\n                  >\n                    On\n                  </Button>\n                  <Button\n                    id='useGradient'\n                    color='secondary'\n                    onClick={this.handleToggle(false).bind(this)}\n                    active={!this.state.options.useGradient}\n                  >\n                    Off\n                  </Button>\n                </ButtonGroup>\n              </FormGroup>\n              <FormGroup className={this.state.options.useGradient ? '' : 'hidden'}>\n                <Label className='input-group-label' for='gradient'>Gradient Mode:</Label>\n                <Input\n                  id='gradient'\n                  bsSize='sm'\n                  type='select'\n                  defaultValue={5}\n                  onChange={e => this.handleOptionChange(e.target)}\n                >\n                  {this.allGradientFunctions.map((f, i) => (\n                    <option value={i}>{f.name}</option>\n                  ))}\n                </Input>\n              </FormGroup>\n              <FormGroup className={this.state.options.useGradient ? '' : 'hidden'}>\n                <Label className='input-group-label' for='gradientNegativeFactor'>Gradient Negative Factor:</Label>\n                <input\n                  id='gradientNegativeFactor'\n                  type='range'\n                  step='0.001'\n                  min='0'\n                  max='0.1'\n                  defaultValue={this.state.options.gradientNegativeFactor}\n                  onChange={e => this.inputHandler(e.target)}\n                />\n              </FormGroup>\n              <FormGroup className={this.state.options.useGradient ? '' : 'hidden'}>\n                <Label className='input-group-label' for='gradientPositiveFactor'>Gradient Positive Factor:</Label>\n                <input\n                  id='gradientPositiveFactor'\n                  type='range'\n                  step='0.001'\n                  min='0'\n                  max='0.1'\n                  defaultValue={this.state.options.gradientPositiveFactor}\n                  onChange={e => this.inputHandler(e.target)}\n                />\n              </FormGroup>\n              <hr />\n              <FormGroup>\n                <Label className='input-group-label' for='strokeOnly'>Stroke Only Mode:</Label>\n                <ButtonGroup size='sm'>\n                  <Button\n                    id='strokeOnly'\n                    color='secondary'\n                    onClick={this.handleToggle(true).bind(this)}\n                    active={this.state.options.strokeOnly}\n                  >\n                    On\n                  </Button>\n                  <Button\n                    id='strokeOnly'\n                    color='secondary'\n                    onClick={this.handleToggle(false).bind(this)}\n                    active={!this.state.options.strokeOnly}\n                  >\n                    Off\n                  </Button>\n                </ButtonGroup>\n              </FormGroup>\n              <FormGroup className={this.state.options.strokeOnly ? '' : 'hidden'}>\n                <Label className='input-group-label' for='strokeWidth'>Stroke Width:</Label>\n                <input\n                  id='strokeWidth'\n                  type='range'\n                  step='0.001'\n                  min='0.1'\n                  max='20'\n                  defaultValue={this.state.options.strokeWidth}\n                  onChange={e => this.inputHandler(e.target)}\n                />\n              </FormGroup>\n              <FormGroup className={this.state.options.strokeOnly ? 'color-picker-container' : 'hidden'}>\n                <Label className='input-group-label' for='backgroundColor'>Background Color:</Label>\n                <ChromePicker\n                  color={this.state.options.backgroundColor}\n                  disableAlpha\n                  onChangeComplete={this.handleBackgroundColorChange.bind(this)}\n                />\n              </FormGroup>\n              <hr />\n              <FormGroup>\n                <Button\n                  size='lg'\n                  color='primary'\n                  onClick={this.saveImage.bind(this)}\n                >\n                  Save Image\n                </Button>\n                <br />\n                <Button\n                  className='spacer-top'\n                  size='lg'\n                  color='secondary'\n                  onClick={this.saveSVG.bind(this)}\n                >\n                  Save SVG\n                </Button>\n              </FormGroup>\n            </Form>\n          </Col>\n        </Row>\n        <canvas\n          id='imageProcessingCanvas'\n          className='hidden'\n        />\n        <canvas\n          id='canvas'\n          className='hidden'\n          width={this.state.svgWidth}\n          height={this.state.svgHeight}\n        />\n      </Container>\n    );\n  }\n}\n\nexport default App;\n\n/*<FormGroup className='spacer-top'>\n  <Label className='input-group-label' for='image'>Image Input:</Label>\n  <Input\n    id='image'\n    className='w-100'\n    type='file'\n    onChange={e => this.handleFile(e.target)}\n  />\n</FormGroup>*/\n","// triangulator2-app\n// Copyright 2019 jackw01. Released under the MIT License (see LICENSE for details).\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.scss';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}